2025-12-29 21:22:23,761 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 21:22:23,915 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 21:22:23,915 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:22:23,917 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 21:22:23,918 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:22:23,921 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 21:22:23,923 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:22:23,925 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:22:23,926 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 21:22:23,926 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00163s] {}
2025-12-29 21:22:23,927 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 21:22:23,927 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 21:22:23,929 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:22:23,929 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 21:22:23,929 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00075s] {}
2025-12-29 21:22:23,932 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 21:22:23,933 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 21:22:23,933 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 21:22:23,933 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 21:22:23,934 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 21:22:23,934 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 21:22:24,669 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 21:22:24,670 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:22:24,674 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:22:24,674 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00040s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:22:24,679 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:22:24,679 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005428s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:22:24,679 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:22:24,680 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.006331s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:22:24,681 - sqlalchemy.engine.Engine - INFO - base:1901 - 
CREATE TABLE users (
	id SERIAL NOT NULL, 
	username VARCHAR(50) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	hashed_password VARCHAR(255) NOT NULL, 
	full_name VARCHAR(100), 
	balance FLOAT, 
	rating FLOAT, 
	is_active BOOLEAN, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	PRIMARY KEY (id)
)


2025-12-29 21:22:24,681 - sqlalchemy.engine.Engine - INFO - base:1906 - [no key 0.00026s] {}
2025-12-29 21:22:24,739 - sqlalchemy.engine.Engine - INFO - base:1901 - CREATE INDEX ix_users_id ON users (id)
2025-12-29 21:22:24,739 - sqlalchemy.engine.Engine - INFO - base:1906 - [no key 0.00091s] {}
2025-12-29 21:22:24,742 - sqlalchemy.engine.Engine - INFO - base:1901 - CREATE UNIQUE INDEX ix_users_email ON users (email)
2025-12-29 21:22:24,743 - sqlalchemy.engine.Engine - INFO - base:1906 - [no key 0.00045s] {}
2025-12-29 21:22:24,745 - sqlalchemy.engine.Engine - INFO - base:1901 - CREATE UNIQUE INDEX ix_users_username ON users (username)
2025-12-29 21:22:24,746 - sqlalchemy.engine.Engine - INFO - base:1906 - [no key 0.00041s] {}
2025-12-29 21:22:24,748 - sqlalchemy.engine.Engine - INFO - base:1901 - 
CREATE TABLE tasks (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	description TEXT, 
	price FLOAT NOT NULL, 
	status VARCHAR(20), 
	category VARCHAR(50), 
	deadline TIMESTAMP WITH TIME ZONE, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	creator_id INTEGER NOT NULL, 
	executor_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(creator_id) REFERENCES users (id), 
	FOREIGN KEY(executor_id) REFERENCES users (id)
)


2025-12-29 21:22:24,748 - sqlalchemy.engine.Engine - INFO - base:1906 - [no key 0.00047s] {}
2025-12-29 21:22:24,762 - sqlalchemy.engine.Engine - INFO - base:1901 - CREATE INDEX ix_tasks_id ON tasks (id)
2025-12-29 21:22:24,763 - sqlalchemy.engine.Engine - INFO - base:1906 - [no key 0.00045s] {}
2025-12-29 21:22:24,764 - sqlalchemy.engine.Engine - INFO - base:1901 - 
CREATE TABLE chat_messages (
	id SERIAL NOT NULL, 
	task_id INTEGER NOT NULL, 
	sender_id INTEGER NOT NULL, 
	message TEXT NOT NULL, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	PRIMARY KEY (id), 
	FOREIGN KEY(task_id) REFERENCES tasks (id), 
	FOREIGN KEY(sender_id) REFERENCES users (id)
)


2025-12-29 21:22:24,765 - sqlalchemy.engine.Engine - INFO - base:1906 - [no key 0.00042s] {}
2025-12-29 21:22:24,772 - sqlalchemy.engine.Engine - INFO - base:1901 - CREATE INDEX ix_chat_messages_id ON chat_messages (id)
2025-12-29 21:22:24,773 - sqlalchemy.engine.Engine - INFO - base:1906 - [no key 0.00050s] {}
2025-12-29 21:22:24,775 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 21:22:24,778 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 21:22:24,787 - uvicorn.error - INFO - server:76 - Started server process [22800]
2025-12-29 21:22:24,788 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 21:22:24,788 - auth_service.main - INFO - main:48 - Auth Service запущен
2025-12-29 21:22:24,788 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 21:22:24,991 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 21:22:25,231 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 21:22:25,232 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:22:25,234 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 21:22:25,234 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:22:25,235 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 21:22:25,235 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:22:25,236 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:22:25,236 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 21:22:25,236 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00042s] {}
2025-12-29 21:22:25,237 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 21:22:25,237 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 21:22:25,238 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:22:25,238 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 21:22:25,239 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00057s] {}
2025-12-29 21:22:25,239 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 21:22:25,239 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 21:22:25,239 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 21:22:25,240 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 21:22:25,240 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 21:22:25,240 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 21:22:25,358 - shared.rabbitmq - INFO - rabbitmq:40 - RabbitMQ отключен в конфигурации, используется заглушка
2025-12-29 21:22:25,407 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 21:22:25,408 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:22:25,410 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:22:25,411 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00039s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:22:25,414 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:22:25,414 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003678s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:22:25,415 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:22:25,415 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004621s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:22:25,415 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 21:22:25,416 - root - INFO - main:24 - Таблицы базы данных созданы/проверены
2025-12-29 21:22:25,431 - uvicorn.error - INFO - server:76 - Started server process [35568]
2025-12-29 21:22:25,431 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 21:22:25,431 - quest_service.main - INFO - main:100 - Quest Service запущен
2025-12-29 21:22:25,432 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 21:22:26,725 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 21:22:26,813 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 21:22:26,814 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:22:26,815 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 21:22:26,815 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:22:26,815 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 21:22:26,815 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:22:26,816 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:22:26,816 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 21:22:26,817 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00046s] {}
2025-12-29 21:22:26,817 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 21:22:26,817 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 21:22:26,818 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:22:26,818 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 21:22:26,818 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00045s] {}
2025-12-29 21:22:26,819 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 21:22:26,819 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 21:22:26,819 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 21:22:26,819 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 21:22:26,820 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 21:22:26,820 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 21:22:26,946 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 21:22:26,947 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:22:26,950 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:22:26,951 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00134s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:22:26,955 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:22:26,955 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005522s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:22:26,957 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:22:26,957 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.00733s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:22:26,959 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 21:22:26,960 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 21:22:26,965 - uvicorn.error - INFO - server:76 - Started server process [14864]
2025-12-29 21:22:26,966 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 21:22:26,967 - chat_service.main - INFO - main:114 - Chat Service запущен
2025-12-29 21:22:26,967 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 21:22:52,247 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 21:22:52,247 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 21:22:52,294 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 21:22:52,358 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 21:22:52,358 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 21:22:52,359 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 21:22:52,359 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 21:22:52,359 - uvicorn.error - INFO - server:86 - Finished server process [35568]
2025-12-29 21:22:52,359 - uvicorn.error - INFO - server:86 - Finished server process [22800]
2025-12-29 21:22:52,406 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 21:22:52,407 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 21:22:52,407 - uvicorn.error - INFO - server:86 - Finished server process [14864]
2025-12-29 21:32:43,666 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 21:32:43,778 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 21:32:43,778 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:32:43,780 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 21:32:43,780 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:32:43,783 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 21:32:43,783 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:32:43,784 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:32:43,784 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 21:32:43,784 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00041s] {}
2025-12-29 21:32:43,784 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 21:32:43,785 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 21:32:43,786 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:32:43,786 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 21:32:43,786 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00040s] {}
2025-12-29 21:32:43,788 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 21:32:43,788 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 21:32:43,788 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 21:32:43,788 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 21:32:43,789 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 21:32:43,789 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 21:32:43,965 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 21:32:43,966 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:32:43,969 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:32:43,970 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00049s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:32:43,974 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:32:43,974 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004912s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:32:43,975 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:32:43,975 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005781s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:32:43,976 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 21:32:43,976 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 21:32:43,989 - uvicorn.error - INFO - server:76 - Started server process [33044]
2025-12-29 21:32:43,989 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 21:32:43,990 - auth_service.main - INFO - main:48 - Auth Service запущен
2025-12-29 21:32:43,990 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 21:32:45,047 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 21:32:45,126 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 21:32:45,126 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:32:45,127 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 21:32:45,127 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:32:45,128 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 21:32:45,128 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:32:45,129 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:32:45,129 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 21:32:45,129 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00042s] {}
2025-12-29 21:32:45,129 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 21:32:45,130 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 21:32:45,130 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:32:45,131 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 21:32:45,131 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00044s] {}
2025-12-29 21:32:45,131 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 21:32:45,131 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 21:32:45,131 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 21:32:45,132 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 21:32:45,132 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 21:32:45,132 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 21:32:45,215 - shared.rabbitmq - INFO - rabbitmq:40 - RabbitMQ отключен в конфигурации, используется заглушка
2025-12-29 21:32:45,262 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 21:32:45,263 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:32:45,266 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:32:45,266 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00056s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:32:45,269 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:32:45,270 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004115s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:32:45,271 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:32:45,271 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005329s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:32:45,272 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 21:32:45,272 - root - INFO - main:24 - Таблицы базы данных созданы/проверены
2025-12-29 21:32:45,285 - uvicorn.error - INFO - server:76 - Started server process [26592]
2025-12-29 21:32:45,286 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 21:32:45,286 - quest_service.main - INFO - main:100 - Quest Service запущен
2025-12-29 21:32:45,286 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 21:32:47,240 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 21:32:47,426 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 21:32:47,427 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:32:47,428 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 21:32:47,428 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:32:47,428 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 21:32:47,429 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 21:32:47,429 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:32:47,430 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 21:32:47,430 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00048s] {}
2025-12-29 21:32:47,430 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 21:32:47,430 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 21:32:47,431 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:32:47,431 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 21:32:47,432 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00043s] {}
2025-12-29 21:32:47,432 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 21:32:47,432 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 21:32:47,432 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 21:32:47,433 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 21:32:47,433 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 21:32:47,433 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 21:32:47,576 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 21:32:47,576 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 21:32:47,579 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:32:47,579 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00040s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:32:47,582 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:32:47,582 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003003s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:32:47,583 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 21:32:47,583 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003814s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 21:32:47,583 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 21:32:47,584 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 21:32:47,588 - uvicorn.error - INFO - server:76 - Started server process [680]
2025-12-29 21:32:47,588 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 21:32:47,589 - chat_service.main - INFO - main:114 - Chat Service запущен
2025-12-29 21:32:47,589 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 21:33:05,380 - uvicorn.access - INFO - httptools_impl:496 - 127.0.0.1:50728 - "GET / HTTP/1.1" 404
2025-12-29 21:33:05,446 - uvicorn.access - INFO - httptools_impl:496 - 127.0.0.1:50728 - "GET /favicon.ico HTTP/1.1" 404
2025-12-29 21:33:08,413 - uvicorn.access - INFO - httptools_impl:496 - 127.0.0.1:50734 - "GET / HTTP/1.1" 404
2025-12-29 21:33:08,440 - uvicorn.access - INFO - httptools_impl:496 - 127.0.0.1:50734 - "GET /favicon.ico HTTP/1.1" 404
2025-12-29 21:33:10,395 - uvicorn.access - INFO - httptools_impl:496 - 127.0.0.1:50740 - "GET / HTTP/1.1" 404
2025-12-29 21:33:10,422 - uvicorn.access - INFO - httptools_impl:496 - 127.0.0.1:50740 - "GET /favicon.ico HTTP/1.1" 404
2025-12-29 21:36:53,837 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 21:36:53,852 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 21:36:53,854 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 21:36:53,944 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 21:36:53,947 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 21:36:53,950 - uvicorn.error - INFO - server:86 - Finished server process [33044]
2025-12-29 21:36:53,960 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 21:36:53,963 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 21:36:53,965 - uvicorn.error - INFO - server:86 - Finished server process [26592]
2025-12-29 21:36:53,977 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 21:36:53,986 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 21:36:53,990 - uvicorn.error - INFO - server:86 - Finished server process [680]
2025-12-29 22:14:36,602 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 22:14:36,744 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 22:14:36,745 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:14:36,747 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 22:14:36,747 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:14:36,749 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 22:14:36,749 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:14:36,750 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:14:36,751 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 22:14:36,751 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00045s] {}
2025-12-29 22:14:36,751 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 22:14:36,751 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:14:36,753 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:14:36,753 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 22:14:36,753 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00042s] {}
2025-12-29 22:14:36,755 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 22:14:36,755 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 22:14:36,755 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 22:14:36,755 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 22:14:36,755 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 22:14:36,755 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:14:36,947 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 22:14:36,947 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:14:36,950 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:36,950 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00033s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:36,955 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:36,955 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005361s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:36,956 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:36,956 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.006188s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:36,956 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 22:14:36,957 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 22:14:36,969 - uvicorn.error - INFO - server:76 - Started server process [36756]
2025-12-29 22:14:36,970 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 22:14:36,970 - auth_service.main - INFO - main:48 - Auth Service запущен
2025-12-29 22:14:36,970 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 22:14:38,226 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 22:14:38,306 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 22:14:38,306 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:14:38,307 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 22:14:38,307 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:14:38,308 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 22:14:38,308 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:14:38,309 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:14:38,309 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 22:14:38,309 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00044s] {}
2025-12-29 22:14:38,309 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 22:14:38,310 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:14:38,311 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:14:38,311 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 22:14:38,311 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00042s] {}
2025-12-29 22:14:38,311 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 22:14:38,311 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 22:14:38,312 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 22:14:38,312 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 22:14:38,312 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 22:14:38,312 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:14:38,396 - shared.rabbitmq - INFO - rabbitmq:40 - RabbitMQ отключен в конфигурации, используется заглушка
2025-12-29 22:14:38,443 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 22:14:38,443 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:14:38,446 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:38,446 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00037s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:38,450 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:38,450 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004191s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:38,451 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:38,451 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005321s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:38,452 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 22:14:38,452 - root - INFO - main:24 - Таблицы базы данных созданы/проверены
2025-12-29 22:14:38,466 - uvicorn.error - INFO - server:76 - Started server process [23804]
2025-12-29 22:14:38,466 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 22:14:38,467 - quest_service.main - INFO - main:100 - Quest Service запущен
2025-12-29 22:14:38,467 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 22:14:40,218 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 22:14:40,297 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 22:14:40,297 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:14:40,298 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 22:14:40,298 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:14:40,298 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 22:14:40,299 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:14:40,299 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:14:40,300 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 22:14:40,300 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00043s] {}
2025-12-29 22:14:40,300 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 22:14:40,300 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:14:40,301 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:14:40,301 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 22:14:40,302 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00042s] {}
2025-12-29 22:14:40,302 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 22:14:40,302 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 22:14:40,302 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 22:14:40,302 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 22:14:40,303 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 22:14:40,303 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:14:40,401 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 22:14:40,402 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:14:40,405 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:40,405 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:40,407 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:40,408 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003129s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:40,408 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:40,410 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004022s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:40,410 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 22:14:40,411 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 22:14:40,415 - uvicorn.error - INFO - server:76 - Started server process [13892]
2025-12-29 22:14:40,415 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 22:14:40,415 - chat_service.main - INFO - main:114 - Chat Service запущен
2025-12-29 22:14:40,416 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 22:25:41,175 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 22:25:41,175 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 22:25:41,238 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 22:25:41,295 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 22:25:41,306 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 22:25:41,308 - uvicorn.error - INFO - server:86 - Finished server process [13892]
2025-12-29 22:25:41,311 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 22:25:41,330 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 22:25:41,336 - uvicorn.error - INFO - server:86 - Finished server process [23804]
2025-12-29 22:25:41,378 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 22:25:41,436 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 22:25:41,445 - uvicorn.error - INFO - server:86 - Finished server process [36756]
2025-12-29 22:27:42,690 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 22:27:42,904 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 22:27:42,905 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:27:42,906 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 22:27:42,906 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:27:42,908 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 22:27:42,909 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:27:42,910 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:27:42,910 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 22:27:42,910 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00053s] {}
2025-12-29 22:27:42,910 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 22:27:42,911 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:27:42,912 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:27:42,913 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 22:27:42,913 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00102s] {}
2025-12-29 22:27:42,914 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 22:27:42,914 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 22:27:42,915 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 22:27:42,915 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 22:27:42,915 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 22:27:42,915 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:27:43,086 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 22:27:43,086 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:27:43,089 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:27:43,089 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00035s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:27:43,092 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:27:43,092 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003624s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:27:43,093 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:27:43,093 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004432s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:27:43,094 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 22:27:43,094 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 22:27:43,106 - uvicorn.error - INFO - server:76 - Started server process [35520]
2025-12-29 22:27:43,107 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 22:27:43,107 - auth_service.main - INFO - main:48 - Auth Service запущен
2025-12-29 22:27:43,107 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 22:27:44,348 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 22:27:44,424 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 22:27:44,424 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:27:44,425 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 22:27:44,425 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:27:44,426 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 22:27:44,426 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:27:44,427 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:27:44,427 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 22:27:44,427 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00047s] {}
2025-12-29 22:27:44,427 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 22:27:44,428 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:27:44,429 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:27:44,429 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 22:27:44,429 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00042s] {}
2025-12-29 22:27:44,429 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 22:27:44,429 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 22:27:44,430 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 22:27:44,430 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 22:27:44,430 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 22:27:44,430 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:27:44,515 - shared.rabbitmq - INFO - rabbitmq:40 - RabbitMQ отключен в конфигурации, используется заглушка
2025-12-29 22:27:44,562 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 22:27:44,562 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:27:44,565 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:27:44,565 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00037s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:27:44,568 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:27:44,568 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003264s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:27:44,569 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:27:44,569 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004129s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:27:44,570 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 22:27:44,570 - root - INFO - main:24 - Таблицы базы данных созданы/проверены
2025-12-29 22:27:44,582 - uvicorn.error - INFO - server:76 - Started server process [31824]
2025-12-29 22:27:44,583 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 22:27:44,583 - quest_service.main - INFO - main:100 - Quest Service запущен
2025-12-29 22:27:44,584 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 22:27:46,474 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 22:27:46,662 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 22:27:46,662 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:27:46,663 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 22:27:46,663 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:27:46,664 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 22:27:46,664 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:27:46,665 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:27:46,665 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 22:27:46,665 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00044s] {}
2025-12-29 22:27:46,665 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 22:27:46,665 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:27:46,666 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:27:46,667 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 22:27:46,667 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00046s] {}
2025-12-29 22:27:46,667 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 22:27:46,667 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 22:27:46,667 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 22:27:46,668 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 22:27:46,668 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 22:27:46,668 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:27:46,780 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 22:27:46,781 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:27:46,784 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:27:46,784 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00051s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:27:46,788 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:27:46,788 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.00425s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:27:46,789 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:27:46,789 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005327s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:27:46,790 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 22:27:46,790 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 22:27:46,795 - uvicorn.error - INFO - server:76 - Started server process [19964]
2025-12-29 22:27:46,795 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 22:27:46,795 - chat_service.main - INFO - main:114 - Chat Service запущен
2025-12-29 22:27:46,796 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 22:28:38,458 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 22:28:38,504 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 22:28:38,519 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 22:28:38,565 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 22:28:38,565 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 22:28:38,566 - uvicorn.error - INFO - server:86 - Finished server process [35520]
2025-12-29 22:28:38,612 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 22:28:38,613 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 22:28:38,613 - uvicorn.error - INFO - server:86 - Finished server process [31824]
2025-12-29 22:28:38,628 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 22:28:38,629 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 22:28:38,630 - uvicorn.error - INFO - server:86 - Finished server process [19964]
2025-12-29 22:34:18,390 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 22:34:18,487 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 22:34:18,487 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:34:18,488 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 22:34:18,489 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:34:18,490 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 22:34:18,490 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:34:18,491 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:34:18,492 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 22:34:18,492 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00046s] {}
2025-12-29 22:34:18,492 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 22:34:18,492 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:34:18,493 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:34:18,493 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 22:34:18,493 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00037s] {}
2025-12-29 22:34:18,494 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 22:34:18,494 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 22:34:18,494 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 22:34:18,495 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 22:34:18,495 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 22:34:18,495 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:34:18,662 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 22:34:18,663 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:34:18,667 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:34:18,668 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00053s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:34:18,672 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:34:18,672 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005418s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:34:18,673 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:34:18,674 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.006668s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:34:18,674 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 22:34:18,675 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 22:34:18,688 - uvicorn.error - INFO - server:76 - Started server process [24340]
2025-12-29 22:34:18,688 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 22:34:18,689 - auth_service.main - INFO - main:48 - Auth Service запущен
2025-12-29 22:34:18,689 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 22:34:20,336 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 22:34:20,411 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 22:34:20,411 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:34:20,412 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 22:34:20,412 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:34:20,413 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 22:34:20,413 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:34:20,414 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:34:20,414 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 22:34:20,414 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00044s] {}
2025-12-29 22:34:20,414 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 22:34:20,415 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:34:20,415 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:34:20,416 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 22:34:20,416 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00044s] {}
2025-12-29 22:34:20,416 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 22:34:20,416 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 22:34:20,417 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 22:34:20,417 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 22:34:20,417 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 22:34:20,417 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:34:20,495 - shared.rabbitmq - INFO - rabbitmq:40 - RabbitMQ отключен в конфигурации, используется заглушка
2025-12-29 22:34:20,540 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 22:34:20,541 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:34:20,544 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:34:20,544 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00035s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:34:20,547 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:34:20,548 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003952s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:34:20,549 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:34:20,550 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005962s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:34:20,551 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 22:34:20,552 - root - INFO - main:24 - Таблицы базы данных созданы/проверены
2025-12-29 22:34:20,568 - uvicorn.error - INFO - server:76 - Started server process [17456]
2025-12-29 22:34:20,568 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 22:34:20,569 - quest_service.main - INFO - main:100 - Quest Service запущен
2025-12-29 22:34:20,569 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 22:34:22,366 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 22:34:22,444 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 22:34:22,444 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:34:22,445 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 22:34:22,445 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:34:22,446 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 22:34:22,446 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 22:34:22,447 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:34:22,447 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 22:34:22,447 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00048s] {}
2025-12-29 22:34:22,448 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 22:34:22,448 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:34:22,449 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:34:22,449 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 22:34:22,449 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00041s] {}
2025-12-29 22:34:22,449 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 22:34:22,450 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 22:34:22,450 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 22:34:22,450 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 22:34:22,450 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 22:34:22,450 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 22:34:22,554 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 22:34:22,554 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 22:34:22,557 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:34:22,557 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00035s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:34:22,560 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:34:22,560 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003419s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:34:22,561 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:34:22,561 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004256s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:34:22,562 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 22:34:22,562 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 22:34:22,566 - uvicorn.error - INFO - server:76 - Started server process [30164]
2025-12-29 22:34:22,566 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 22:34:22,567 - chat_service.main - INFO - main:114 - Chat Service запущен
2025-12-29 22:34:22,567 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 22:36:22,522 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 22:36:22,524 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 22:36:22,552 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 22:36:22,630 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 22:36:22,632 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 22:36:22,633 - uvicorn.error - INFO - server:86 - Finished server process [17456]
2025-12-29 22:36:22,649 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 22:36:22,660 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 22:36:22,662 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 22:36:22,663 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 22:36:22,664 - uvicorn.error - INFO - server:86 - Finished server process [30164]
2025-12-29 22:36:22,664 - uvicorn.error - INFO - server:86 - Finished server process [24340]
2025-12-29 23:07:49,760 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 23:07:49,900 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 23:07:49,901 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:07:49,902 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 23:07:49,903 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:07:49,905 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 23:07:49,906 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:07:49,907 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:07:49,907 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 23:07:49,907 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00043s] {}
2025-12-29 23:07:49,908 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 23:07:49,908 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:07:49,909 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:07:49,910 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 23:07:49,910 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00044s] {}
2025-12-29 23:07:49,911 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 23:07:49,912 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 23:07:49,912 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 23:07:49,912 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 23:07:49,912 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 23:07:49,912 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:07:50,115 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 23:07:50,116 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:07:50,116 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 23:07:50,117 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.2064s ago] {}
2025-12-29 23:07:50,117 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 23:07:50,117 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 23:07:50,117 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 23:07:50,117 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 23:07:50,118 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 23:07:50,118 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:07:50,118 - shared.database - INFO - database:118 - Создание таблиц базы данных...
2025-12-29 23:07:50,118 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:07:50,121 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:07:50,121 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00031s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:07:50,126 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:07:50,126 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005239s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:07:50,127 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:07:50,127 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.006035s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:07:50,127 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 23:07:50,128 - shared.database - INFO - database:120 -  Таблицы базы данных успешно созданы
2025-12-29 23:07:50,128 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:07:50,128 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                CREATE INDEX IF NOT EXISTS idx_users_username ON users(username);
                CREATE INDEX IF NOT EXISTS idx_users_email ON users(email);
                CREATE INDEX IF NOT EXISTS idx_tasks_status ON tasks(status);
                CREATE INDEX IF NOT EXISTS idx_tasks_category ON tasks(category);
                CREATE INDEX IF NOT EXISTS idx_tasks_creator ON tasks(creator_id);
                CREATE INDEX IF NOT EXISTS idx_tasks_executor ON tasks(executor_id);
                CREATE INDEX IF NOT EXISTS idx_chat_messages_task ON chat_messages(task_id);
                CREATE INDEX IF NOT EXISTS idx_chat_messages_created ON chat_messages(created_at DESC);
            
2025-12-29 23:07:50,129 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00043s] {}
2025-12-29 23:07:50,152 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 23:07:50,154 - shared.database - INFO - database:136 -  Индексы созданы
2025-12-29 23:07:50,161 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:07:50,163 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.balance AS users_balance, users.rating AS users_rating, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-12-29 23:07:50,163 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00031s] {'username_1': 'admin', 'param_1': 1}
2025-12-29 23:07:50,169 - passlib.handlers.bcrypt - WARNING - bcrypt:622 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\ekbuz\PycharmProjects\my_web_board\venv\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-12-29 23:07:50,231 - shared.security - ERROR - security:97 - Ошибка хеширования пароля: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
2025-12-29 23:07:50,231 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:07:50,232 - shared.database - ERROR - database:103 - Ошибка в сессии базы данных: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
2025-12-29 23:07:50,232 - __main__ - ERROR - init_db:105 - Ошибка создания пользователей: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
2025-12-29 23:08:17,431 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 23:08:17,506 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 23:08:17,507 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:08:17,507 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 23:08:17,508 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:08:17,508 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 23:08:17,509 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:08:17,509 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:08:17,510 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 23:08:17,510 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00045s] {}
2025-12-29 23:08:17,510 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 23:08:17,510 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:08:17,511 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:08:17,512 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 23:08:17,512 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00044s] {}
2025-12-29 23:08:17,512 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 23:08:17,513 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 23:08:17,513 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 23:08:17,513 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 23:08:17,513 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 23:08:17,513 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:08:17,611 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 23:08:17,612 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:08:17,615 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:08:17,615 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00032s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:08:17,618 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:08:17,618 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003364s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:08:17,619 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:08:17,619 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004171s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:08:17,619 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 23:08:17,620 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 23:08:17,632 - uvicorn.error - INFO - server:76 - Started server process [13156]
2025-12-29 23:08:17,632 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 23:08:17,632 - auth_service.main - INFO - main:48 - Auth Service запущен
2025-12-29 23:08:17,633 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 23:08:19,258 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 23:08:19,334 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 23:08:19,334 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:08:19,335 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 23:08:19,335 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:08:19,335 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 23:08:19,336 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:08:19,336 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:08:19,337 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 23:08:19,337 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00046s] {}
2025-12-29 23:08:19,337 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 23:08:19,337 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:08:19,338 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:08:19,338 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 23:08:19,339 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00045s] {}
2025-12-29 23:08:19,339 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 23:08:19,339 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 23:08:19,339 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 23:08:19,339 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 23:08:19,340 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 23:08:19,340 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:08:19,425 - shared.rabbitmq - INFO - rabbitmq:40 - RabbitMQ отключен в конфигурации, используется заглушка
2025-12-29 23:08:19,474 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 23:08:19,475 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:08:19,478 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:08:19,478 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00068s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:08:19,482 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:08:19,483 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.00493s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:08:19,483 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:08:19,484 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.006012s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:08:19,484 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 23:08:19,485 - root - INFO - main:24 - Таблицы базы данных созданы/проверены
2025-12-29 23:08:19,498 - uvicorn.error - INFO - server:76 - Started server process [11720]
2025-12-29 23:08:19,498 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 23:08:19,499 - quest_service.main - INFO - main:100 - Quest Service запущен
2025-12-29 23:08:19,499 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 23:08:21,272 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 23:08:21,348 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 23:08:21,349 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:08:21,349 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 23:08:21,350 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:08:21,350 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 23:08:21,350 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:08:21,351 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:08:21,351 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 23:08:21,351 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00046s] {}
2025-12-29 23:08:21,352 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 23:08:21,352 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:08:21,353 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:08:21,353 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 23:08:21,353 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00045s] {}
2025-12-29 23:08:21,354 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 23:08:21,354 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 23:08:21,354 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 23:08:21,354 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 23:08:21,355 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 23:08:21,355 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:08:21,452 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 23:08:21,452 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:08:21,455 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:08:21,455 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00035s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:08:21,458 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:08:21,458 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003017s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:08:21,458 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:08:21,459 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003862s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:08:21,459 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 23:08:21,460 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 23:08:21,464 - uvicorn.error - INFO - server:76 - Started server process [15772]
2025-12-29 23:08:21,464 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 23:08:21,464 - chat_service.main - INFO - main:114 - Chat Service запущен
2025-12-29 23:08:21,465 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 23:08:59,731 - uvicorn.access - INFO - httptools_impl:496 - 127.0.0.1:52344 - "GET /health HTTP/1.1" 200
2025-12-29 23:08:59,994 - uvicorn.access - INFO - httptools_impl:496 - 127.0.0.1:52346 - "GET /health HTTP/1.1" 200
2025-12-29 23:09:00,245 - uvicorn.access - INFO - httptools_impl:496 - 127.0.0.1:52348 - "GET /health HTTP/1.1" 200
2025-12-29 23:09:20,750 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 23:09:20,830 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 23:09:20,830 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 23:09:20,861 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 23:09:20,862 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 23:09:20,862 - uvicorn.error - INFO - server:86 - Finished server process [13156]
2025-12-29 23:09:20,939 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 23:09:20,940 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 23:09:20,940 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 23:09:20,941 - uvicorn.error - INFO - server:86 - Finished server process [15772]
2025-12-29 23:09:20,941 - uvicorn.error - INFO - server:86 - Finished server process [11720]
2025-12-29 23:15:11,842 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 23:15:11,955 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 23:15:11,955 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:15:11,957 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 23:15:11,957 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:15:11,959 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 23:15:11,960 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:15:11,960 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:15:11,961 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 23:15:11,961 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00042s] {}
2025-12-29 23:15:11,961 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 23:15:11,961 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:15:11,962 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:15:11,963 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 23:15:11,963 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00045s] {}
2025-12-29 23:15:11,964 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 23:15:11,965 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 23:15:11,965 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 23:15:11,965 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 23:15:11,965 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 23:15:11,965 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:15:12,125 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 23:15:12,125 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:15:12,128 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:15:12,128 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00039s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:15:12,133 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:15:12,133 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005139s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:15:12,134 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:15:12,134 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005996s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:15:12,135 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 23:15:12,135 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 23:15:12,147 - uvicorn.error - INFO - server:76 - Started server process [21988]
2025-12-29 23:15:12,148 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 23:15:12,148 - auth_service.main - INFO - main:48 - Auth Service запущен
2025-12-29 23:15:12,148 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 23:15:13,626 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 23:15:13,701 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 23:15:13,701 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:15:13,702 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 23:15:13,702 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:15:13,703 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 23:15:13,703 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:15:13,704 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:15:13,704 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 23:15:13,705 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00043s] {}
2025-12-29 23:15:13,705 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 23:15:13,705 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:15:13,706 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:15:13,706 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 23:15:13,706 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00039s] {}
2025-12-29 23:15:13,707 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 23:15:13,707 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 23:15:13,707 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 23:15:13,707 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 23:15:13,707 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 23:15:13,707 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:15:13,806 - shared.rabbitmq - INFO - rabbitmq:40 - RabbitMQ отключен в конфигурации, используется заглушка
2025-12-29 23:15:13,855 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 23:15:13,856 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:15:13,859 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:15:13,859 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:15:13,862 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:15:13,863 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003585s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:15:13,863 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:15:13,863 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004502s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:15:13,864 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 23:15:13,864 - root - INFO - main:24 - Таблицы базы данных созданы/проверены
2025-12-29 23:15:13,876 - uvicorn.error - INFO - server:76 - Started server process [5744]
2025-12-29 23:15:13,876 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 23:15:13,877 - quest_service.main - INFO - main:100 - Quest Service запущен
2025-12-29 23:15:13,877 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 23:15:15,667 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 23:15:15,871 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 23:15:15,871 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:15:15,872 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 23:15:15,873 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:15:15,874 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 23:15:15,875 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:15:15,876 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:15:15,876 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 23:15:15,876 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00055s] {}
2025-12-29 23:15:15,877 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 23:15:15,877 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:15:15,878 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:15:15,878 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 23:15:15,879 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00058s] {}
2025-12-29 23:15:15,880 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 23:15:15,880 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 23:15:15,881 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 23:15:15,881 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 23:15:15,881 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 23:15:15,881 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:15:16,041 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 23:15:16,042 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:15:16,045 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:15:16,045 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00047s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:15:16,050 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:15:16,050 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005274s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:15:16,051 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:15:16,051 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.006315s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:15:16,052 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 23:15:16,052 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 23:15:16,058 - uvicorn.error - INFO - server:76 - Started server process [28120]
2025-12-29 23:15:16,058 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 23:15:16,059 - chat_service.main - INFO - main:114 - Chat Service запущен
2025-12-29 23:15:16,059 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 23:16:37,773 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 23:16:37,821 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 23:16:37,852 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 23:16:37,883 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 23:16:37,883 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 23:16:37,884 - uvicorn.error - INFO - server:86 - Finished server process [5744]
2025-12-29 23:16:37,929 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 23:16:37,929 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 23:16:37,930 - uvicorn.error - INFO - server:86 - Finished server process [21988]
2025-12-29 23:16:37,961 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 23:16:37,963 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 23:16:37,964 - uvicorn.error - INFO - server:86 - Finished server process [28120]
2025-12-29 23:40:01,658 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 23:40:01,793 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 23:40:01,793 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:40:01,794 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 23:40:01,795 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:40:01,797 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 23:40:01,797 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:40:01,798 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:01,798 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 23:40:01,799 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00041s] {}
2025-12-29 23:40:01,799 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 23:40:01,799 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:40:01,800 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:01,801 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 23:40:01,801 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00038s] {}
2025-12-29 23:40:01,802 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 23:40:01,802 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 23:40:01,803 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 23:40:01,803 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 23:40:01,803 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 23:40:01,803 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:40:01,896 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 23:40:01,897 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:01,897 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 23:40:01,897 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.09713s ago] {}
2025-12-29 23:40:01,898 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 23:40:01,898 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 23:40:01,898 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 23:40:01,898 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 23:40:01,898 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 23:40:01,899 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:40:01,899 - shared.database - INFO - database:118 - Создание таблиц базы данных...
2025-12-29 23:40:01,899 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:01,902 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:40:01,902 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:40:01,906 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:40:01,907 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005289s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:40:01,907 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:40:01,908 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.006158s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:40:01,908 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 23:40:01,909 - shared.database - INFO - database:120 -  Таблицы базы данных успешно созданы
2025-12-29 23:40:01,909 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:01,909 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                CREATE INDEX IF NOT EXISTS idx_users_username ON users(username);
                CREATE INDEX IF NOT EXISTS idx_users_email ON users(email);
                CREATE INDEX IF NOT EXISTS idx_tasks_status ON tasks(status);
                CREATE INDEX IF NOT EXISTS idx_tasks_category ON tasks(category);
                CREATE INDEX IF NOT EXISTS idx_tasks_creator ON tasks(creator_id);
                CREATE INDEX IF NOT EXISTS idx_tasks_executor ON tasks(executor_id);
                CREATE INDEX IF NOT EXISTS idx_chat_messages_task ON chat_messages(task_id);
                CREATE INDEX IF NOT EXISTS idx_chat_messages_created ON chat_messages(created_at DESC);
            
2025-12-29 23:40:01,910 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00044s] {}
2025-12-29 23:40:01,921 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 23:40:01,921 - shared.database - INFO - database:136 -  Индексы созданы
2025-12-29 23:40:01,930 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:01,931 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.balance AS users_balance, users.rating AS users_rating, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-12-29 23:40:01,932 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00038s] {'username_1': 'admin', 'param_1': 1}
2025-12-29 23:40:01,937 - passlib.handlers.bcrypt - WARNING - bcrypt:622 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\ekbuz\PycharmProjects\my_web_board\venv\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-12-29 23:40:01,944 - shared.security - ERROR - security:97 - Ошибка хеширования пароля: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
2025-12-29 23:40:01,944 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:40:01,944 - shared.database - ERROR - database:103 - Ошибка в сессии базы данных: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
2025-12-29 23:40:01,945 - __main__ - ERROR - init_db:105 - Ошибка создания пользователей: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
2025-12-29 23:40:05,671 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 23:40:05,745 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 23:40:05,746 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:40:05,747 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 23:40:05,748 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:40:05,749 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 23:40:05,749 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:40:05,750 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:05,751 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 23:40:05,751 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00069s] {}
2025-12-29 23:40:05,751 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 23:40:05,752 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:40:05,753 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:05,753 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 23:40:05,753 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00055s] {}
2025-12-29 23:40:05,754 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 23:40:05,754 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 23:40:05,754 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 23:40:05,754 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 23:40:05,754 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 23:40:05,755 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:40:05,860 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 23:40:05,860 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:05,863 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:40:05,863 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00033s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:40:05,866 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:40:05,867 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003137s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:40:05,867 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:40:05,867 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003979s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:40:05,868 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 23:40:05,869 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 23:40:05,882 - uvicorn.error - INFO - server:76 - Started server process [24460]
2025-12-29 23:40:05,883 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 23:40:05,883 - auth_service.main - INFO - main:48 - Auth Service запущен
2025-12-29 23:40:05,883 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 23:40:07,633 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 23:40:07,709 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 23:40:07,709 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:40:07,710 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 23:40:07,710 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:40:07,711 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 23:40:07,711 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:40:07,712 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:07,712 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 23:40:07,712 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00048s] {}
2025-12-29 23:40:07,713 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 23:40:07,713 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:40:07,714 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:07,714 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 23:40:07,714 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00043s] {}
2025-12-29 23:40:07,715 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 23:40:07,715 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 23:40:07,715 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 23:40:07,715 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 23:40:07,715 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 23:40:07,715 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:40:07,805 - shared.rabbitmq - INFO - rabbitmq:40 - RabbitMQ отключен в конфигурации, используется заглушка
2025-12-29 23:40:07,860 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 23:40:07,861 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:07,863 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:40:07,863 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00033s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:40:07,866 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:40:07,867 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003592s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:40:07,867 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:40:07,868 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004492s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:40:07,868 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 23:40:07,869 - root - INFO - main:24 - Таблицы базы данных созданы/проверены
2025-12-29 23:40:07,881 - uvicorn.error - INFO - server:76 - Started server process [36764]
2025-12-29 23:40:07,882 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 23:40:07,882 - quest_service.main - INFO - main:100 - Quest Service запущен
2025-12-29 23:40:07,882 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 23:40:09,785 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-29 23:40:09,867 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-29 23:40:09,868 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:40:09,869 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-29 23:40:09,869 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:40:09,870 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-29 23:40:09,870 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-29 23:40:09,871 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:09,871 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-29 23:40:09,871 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00049s] {}
2025-12-29 23:40:09,872 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-29 23:40:09,872 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:40:09,873 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:09,873 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-29 23:40:09,873 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00047s] {}
2025-12-29 23:40:09,874 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-29 23:40:09,874 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-29 23:40:09,874 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-29 23:40:09,874 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-29 23:40:09,874 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-29 23:40:09,875 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-29 23:40:09,995 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-29 23:40:09,996 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-29 23:40:09,999 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:40:09,999 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00068s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:40:10,003 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:40:10,003 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004447s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:40:10,004 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:40:10,004 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005608s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:40:10,005 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-29 23:40:10,006 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-29 23:40:10,011 - uvicorn.error - INFO - server:76 - Started server process [27076]
2025-12-29 23:40:10,012 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-29 23:40:10,013 - chat_service.main - INFO - main:114 - Chat Service запущен
2025-12-29 23:40:10,013 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-29 23:53:45,659 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 23:53:45,660 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 23:53:45,693 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-29 23:53:45,783 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 23:53:45,783 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 23:53:45,791 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 23:53:45,792 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 23:53:45,792 - uvicorn.error - INFO - server:86 - Finished server process [24460]
2025-12-29 23:53:45,794 - uvicorn.error - INFO - server:86 - Finished server process [27076]
2025-12-29 23:53:45,815 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-29 23:53:45,825 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-29 23:53:45,829 - uvicorn.error - INFO - server:86 - Finished server process [36764]
2025-12-30 00:06:48,319 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-30 00:06:48,442 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-30 00:06:48,443 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:06:48,444 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-30 00:06:48,445 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:06:48,447 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-30 00:06:48,447 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:06:48,448 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:06:48,448 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-30 00:06:48,448 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00046s] {}
2025-12-30 00:06:48,449 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-30 00:06:48,449 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:06:48,450 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:06:48,451 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-30 00:06:48,451 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00039s] {}
2025-12-30 00:06:48,452 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-30 00:06:48,452 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-30 00:06:48,453 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-30 00:06:48,453 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-30 00:06:48,453 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-30 00:06:48,453 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:06:48,639 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-30 00:06:48,640 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:06:48,643 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:06:48,643 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00034s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:06:48,648 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:06:48,648 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.00567s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:06:48,649 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:06:48,649 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.006721s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:06:48,650 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-30 00:06:48,651 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-30 00:06:48,662 - uvicorn.error - INFO - server:76 - Started server process [37660]
2025-12-30 00:06:48,663 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-30 00:06:48,663 - auth_service.main - INFO - main:48 - Auth Service запущен
2025-12-30 00:06:48,663 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-30 00:06:50,224 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-30 00:06:50,408 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-30 00:06:50,409 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:06:50,410 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-30 00:06:50,410 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:06:50,410 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-30 00:06:50,411 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:06:50,411 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:06:50,412 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-30 00:06:50,412 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00052s] {}
2025-12-30 00:06:50,412 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-30 00:06:50,412 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:06:50,413 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:06:50,414 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-30 00:06:50,414 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00051s] {}
2025-12-30 00:06:50,414 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-30 00:06:50,415 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-30 00:06:50,415 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-30 00:06:50,415 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-30 00:06:50,415 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-30 00:06:50,415 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:06:50,538 - shared.rabbitmq - INFO - rabbitmq:40 - RabbitMQ отключен в конфигурации, используется заглушка
2025-12-30 00:06:50,586 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-30 00:06:50,587 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:06:50,590 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:06:50,590 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:06:50,593 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:06:50,593 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003375s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:06:50,594 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:06:50,594 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004232s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:06:50,594 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-30 00:06:50,595 - root - INFO - main:24 - Таблицы базы данных созданы/проверены
2025-12-30 00:06:50,606 - uvicorn.error - INFO - server:76 - Started server process [32348]
2025-12-30 00:06:50,607 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-30 00:06:50,607 - quest_service.main - INFO - main:100 - Quest Service запущен
2025-12-30 00:06:50,607 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-30 00:06:51,941 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-30 00:06:52,016 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-30 00:06:52,016 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:06:52,017 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-30 00:06:52,017 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:06:52,018 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-30 00:06:52,018 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:06:52,019 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:06:52,019 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-30 00:06:52,019 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00046s] {}
2025-12-30 00:06:52,020 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-30 00:06:52,020 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:06:52,021 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:06:52,021 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-30 00:06:52,021 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00040s] {}
2025-12-30 00:06:52,021 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-30 00:06:52,022 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-30 00:06:52,022 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-30 00:06:52,022 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-30 00:06:52,022 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-30 00:06:52,022 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:06:52,119 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-30 00:06:52,119 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:06:52,122 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:06:52,123 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00038s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:06:52,125 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:06:52,125 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003038s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:06:52,126 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:06:52,126 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003857s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:06:52,127 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-30 00:06:52,127 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-30 00:06:52,131 - uvicorn.error - INFO - server:76 - Started server process [22772]
2025-12-30 00:06:52,131 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-30 00:06:52,132 - chat_service.main - INFO - main:114 - Chat Service запущен
2025-12-30 00:06:52,132 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-30 00:14:19,398 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-30 00:14:19,462 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-30 00:14:19,462 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-30 00:14:19,532 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-30 00:14:19,551 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-30 00:14:19,553 - uvicorn.error - INFO - server:86 - Finished server process [37660]
2025-12-30 00:14:19,597 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-30 00:14:19,598 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-30 00:14:19,629 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-30 00:14:19,634 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-30 00:14:19,636 - uvicorn.error - INFO - server:86 - Finished server process [22772]
2025-12-30 00:14:19,640 - uvicorn.error - INFO - server:86 - Finished server process [32348]
2025-12-30 00:14:21,954 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-30 00:14:21,954 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-30 00:14:22,104 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-30 00:14:22,104 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-30 00:14:22,104 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:14:22,104 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:14:22,106 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-30 00:14:22,106 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-30 00:14:22,106 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:14:22,107 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-30 00:14:22,108 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:14:22,108 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:14:22,109 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:14:22,110 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-30 00:14:22,110 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-30 00:14:22,110 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00068s] {}
2025-12-30 00:14:22,110 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-30 00:14:22,110 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-30 00:14:22,111 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:14:22,111 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:14:22,112 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:14:22,112 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:14:22,112 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-30 00:14:22,112 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-30 00:14:22,112 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00065s] {}
2025-12-30 00:14:22,112 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00073s] {}
2025-12-30 00:14:22,113 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-30 00:14:22,113 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-30 00:14:22,114 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-30 00:14:22,115 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-30 00:14:22,115 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-30 00:14:22,115 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-30 00:14:22,115 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-30 00:14:22,116 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-30 00:14:22,115 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-30 00:14:22,116 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:14:22,116 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:14:22,190 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-30 00:14:22,192 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:14:22,195 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-30 00:14:22,196 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:14:22,197 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-30 00:14:22,198 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:14:22,201 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:14:22,202 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-30 00:14:22,202 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00117s] {}
2025-12-30 00:14:22,203 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-30 00:14:22,203 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:14:22,205 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:14:22,206 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-30 00:14:22,206 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00124s] {}
2025-12-30 00:14:22,207 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-30 00:14:22,207 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-30 00:14:22,208 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-30 00:14:22,208 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-30 00:14:22,208 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-30 00:14:22,208 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:14:22,275 - shared.rabbitmq - INFO - rabbitmq:40 - RabbitMQ отключен в конфигурации, используется заглушка
2025-12-30 00:14:22,302 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-30 00:14:22,303 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:14:22,306 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:14:22,307 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:14:22,311 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:14:22,312 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005635s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:14:22,313 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:14:22,313 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.006958s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:14:22,314 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-30 00:14:22,314 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-30 00:14:22,323 - uvicorn.error - INFO - server:76 - Started server process [13964]
2025-12-30 00:14:22,324 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-30 00:14:22,324 - auth_service.main - INFO - main:48 - Auth Service запущен
2025-12-30 00:14:22,325 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-30 00:14:22,334 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-30 00:14:22,335 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:14:22,338 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:14:22,338 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00040s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:14:22,340 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:14:22,341 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003181s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:14:22,341 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:14:22,342 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004057s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:14:22,342 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-30 00:14:22,343 - root - INFO - main:24 - Таблицы базы данных созданы/проверены
2025-12-30 00:14:22,350 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-30 00:14:22,350 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:14:22,353 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:14:22,353 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:14:22,356 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:14:22,357 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.003469s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:14:22,359 - uvicorn.error - INFO - server:76 - Started server process [25284]
2025-12-30 00:14:22,359 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:14:22,359 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-30 00:14:22,359 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005516s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:14:22,359 - quest_service.main - INFO - main:100 - Quest Service запущен
2025-12-30 00:14:22,359 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-30 00:14:22,360 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-30 00:14:22,360 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-30 00:14:22,365 - uvicorn.error - INFO - server:76 - Started server process [30316]
2025-12-30 00:14:22,365 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-30 00:14:22,366 - chat_service.main - INFO - main:114 - Chat Service запущен
2025-12-30 00:14:22,366 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-30 00:16:00,134 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-30 00:16:00,218 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-30 00:16:00,218 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:16:00,219 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-30 00:16:00,220 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:16:00,220 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-30 00:16:00,220 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:16:00,221 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:16:00,221 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-30 00:16:00,222 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00055s] {}
2025-12-30 00:16:00,222 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-30 00:16:00,222 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:16:00,223 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:16:00,223 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-30 00:16:00,224 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00043s] {}
2025-12-30 00:16:00,224 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-30 00:16:00,224 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-30 00:16:00,224 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-30 00:16:00,224 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-30 00:16:00,225 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-30 00:16:00,225 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:16:00,367 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-30 00:16:00,368 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:16:00,372 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:16:00,373 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00065s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:16:00,377 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:16:00,378 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.005748s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:16:00,379 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:16:00,379 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.006835s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:16:00,380 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-30 00:16:00,380 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-30 00:16:00,391 - uvicorn.error - INFO - server:76 - Started server process [22244]
2025-12-30 00:16:00,392 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-30 00:16:00,392 - auth_service.main - INFO - main:48 - Auth Service запущен
2025-12-30 00:16:00,392 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-30 00:16:02,019 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-30 00:16:02,115 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-30 00:16:02,115 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:16:02,116 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-30 00:16:02,116 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:16:02,117 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-30 00:16:02,117 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:16:02,118 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:16:02,118 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-30 00:16:02,118 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00046s] {}
2025-12-30 00:16:02,118 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-30 00:16:02,119 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:16:02,120 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:16:02,120 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-30 00:16:02,121 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00086s] {}
2025-12-30 00:16:02,122 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-30 00:16:02,122 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-30 00:16:02,122 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-30 00:16:02,122 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-30 00:16:02,123 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-30 00:16:02,123 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:16:02,249 - shared.rabbitmq - INFO - rabbitmq:40 - RabbitMQ отключен в конфигурации, используется заглушка
2025-12-30 00:16:02,338 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-30 00:16:02,338 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:16:02,342 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:16:02,342 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:16:02,345 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:16:02,345 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004056s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:16:02,346 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:16:02,346 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004947s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:16:02,347 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-30 00:16:02,347 - root - INFO - main:24 - Таблицы базы данных созданы/проверены
2025-12-30 00:16:02,359 - uvicorn.error - INFO - server:76 - Started server process [19972]
2025-12-30 00:16:02,360 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-30 00:16:02,360 - quest_service.main - INFO - main:100 - Quest Service запущен
2025-12-30 00:16:02,360 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-30 00:16:03,973 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-30 00:16:04,169 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-30 00:16:04,169 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:16:04,170 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-30 00:16:04,170 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:16:04,171 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-30 00:16:04,171 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 00:16:04,172 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:16:04,172 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-30 00:16:04,172 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00044s] {}
2025-12-30 00:16:04,173 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-30 00:16:04,173 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:16:04,174 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:16:04,174 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-30 00:16:04,174 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00042s] {}
2025-12-30 00:16:04,174 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-30 00:16:04,175 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-30 00:16:04,175 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-30 00:16:04,175 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-30 00:16:04,175 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-30 00:16:04,175 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 00:16:04,320 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-30 00:16:04,321 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 00:16:04,324 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:16:04,324 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00037s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:16:04,327 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:16:04,327 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.0032s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:16:04,328 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:16:04,329 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.004494s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:16:04,329 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-30 00:16:04,330 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-30 00:16:04,334 - uvicorn.error - INFO - server:76 - Started server process [11188]
2025-12-30 00:16:04,334 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-30 00:16:04,335 - chat_service.main - INFO - main:114 - Chat Service запущен
2025-12-30 00:16:04,335 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-30 00:16:05,778 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-30 00:16:05,810 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-30 00:16:05,873 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-30 00:16:05,890 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-30 00:16:05,890 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-30 00:16:05,891 - uvicorn.error - INFO - server:86 - Finished server process [19972]
2025-12-30 00:16:05,922 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-30 00:16:05,922 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-30 00:16:05,923 - uvicorn.error - INFO - server:86 - Finished server process [22244]
2025-12-30 00:16:05,986 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-30 00:16:05,989 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-30 00:16:05,991 - uvicorn.error - INFO - server:86 - Finished server process [11188]
2025-12-30 11:42:52,939 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-30 11:42:53,584 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-30 11:42:53,585 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 11:42:53,590 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-30 11:42:53,590 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 11:42:53,594 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-30 11:42:53,594 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 11:42:53,596 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 11:42:53,597 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-30 11:42:53,597 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00110s] {}
2025-12-30 11:42:53,598 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-30 11:42:53,599 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 11:42:53,602 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 11:42:53,603 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-30 11:42:53,604 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00121s] {}
2025-12-30 11:42:53,606 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-30 11:42:53,607 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-30 11:42:53,607 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-30 11:42:53,608 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-30 11:42:53,608 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-30 11:42:53,609 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 11:42:55,458 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-30 11:42:55,461 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 11:42:55,462 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-30 11:42:55,463 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 1.861s ago] {}
2025-12-30 11:42:55,465 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-30 11:42:55,466 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-30 11:42:55,467 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-30 11:42:55,467 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-30 11:42:55,468 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-30 11:42:55,469 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 11:42:55,471 - shared.database - INFO - database:118 - Создание таблиц базы данных...
2025-12-30 11:42:55,472 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 11:42:55,480 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 11:42:55,481 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00099s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 11:42:55,495 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 11:42:55,496 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.01668s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 11:42:55,498 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 11:42:55,498 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.01907s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 11:42:55,501 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-30 11:42:55,502 - shared.database - INFO - database:120 -  Таблицы базы данных успешно созданы
2025-12-30 11:42:55,503 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 11:42:55,504 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                CREATE INDEX IF NOT EXISTS idx_users_username ON users(username);
                CREATE INDEX IF NOT EXISTS idx_users_email ON users(email);
                CREATE INDEX IF NOT EXISTS idx_tasks_status ON tasks(status);
                CREATE INDEX IF NOT EXISTS idx_tasks_category ON tasks(category);
                CREATE INDEX IF NOT EXISTS idx_tasks_creator ON tasks(creator_id);
                CREATE INDEX IF NOT EXISTS idx_tasks_executor ON tasks(executor_id);
                CREATE INDEX IF NOT EXISTS idx_chat_messages_task ON chat_messages(task_id);
                CREATE INDEX IF NOT EXISTS idx_chat_messages_created ON chat_messages(created_at DESC);
            
2025-12-30 11:42:55,504 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00109s] {}
2025-12-30 11:42:55,533 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-30 11:42:55,534 - shared.database - INFO - database:136 -  Индексы созданы
2025-12-30 11:42:55,556 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 11:42:55,561 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.balance AS users_balance, users.rating AS users_rating, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-12-30 11:42:55,562 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00083s] {'username_1': 'admin', 'param_1': 1}
2025-12-30 11:42:55,577 - passlib.handlers.bcrypt - WARNING - bcrypt:622 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\ekbuz\PycharmProjects\my_web_board\venv\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-12-30 11:42:55,623 - shared.security - ERROR - security:97 - Ошибка хеширования пароля: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
2025-12-30 11:42:55,624 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 11:42:55,625 - shared.database - ERROR - database:103 - Ошибка в сессии базы данных: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
2025-12-30 11:42:55,626 - __main__ - ERROR - init_db:105 - Ошибка создания пользователей: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
2025-12-30 11:43:17,875 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-30 11:43:17,875 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-30 11:43:18,136 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-30 11:43:18,137 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 11:43:18,137 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 11:43:18,142 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-30 11:43:18,142 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-30 11:43:18,143 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 11:43:18,143 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 11:43:18,145 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-30 11:43:18,145 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-30 11:43:18,146 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 11:43:18,146 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 11:43:18,149 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 11:43:18,149 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 11:43:18,150 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-30 11:43:18,150 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-30 11:43:18,151 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00138s] {}
2025-12-30 11:43:18,152 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-30 11:43:18,152 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-30 11:43:18,152 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 11:43:18,152 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 11:43:18,156 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 11:43:18,156 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-30 11:43:18,157 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00138s] {}
2025-12-30 11:43:18,157 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00150s] {}
2025-12-30 11:43:18,160 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-30 11:43:18,160 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-30 11:43:18,161 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-30 11:43:18,161 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-30 11:43:18,162 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-30 11:43:18,162 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-30 11:43:18,162 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-30 11:43:18,162 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-30 11:43:18,163 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-30 11:43:18,163 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-30 11:43:18,163 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 11:43:18,163 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 11:43:18,371 - shared.rabbitmq - INFO - rabbitmq:40 - RabbitMQ отключен в конфигурации, используется заглушка
2025-12-30 11:43:18,540 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-30 11:43:18,542 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 11:43:18,550 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 11:43:18,551 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00130s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 11:43:18,560 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 11:43:18,561 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.01181s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 11:43:18,563 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 11:43:18,564 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.01453s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 11:43:18,566 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-30 11:43:18,566 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-30 11:43:18,568 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-30 11:43:18,570 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 11:43:18,577 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 11:43:18,578 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00091s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 11:43:18,582 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 11:43:18,583 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.006611s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 11:43:18,585 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 11:43:18,585 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.008714s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 11:43:18,587 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-30 11:43:18,587 - root - INFO - main:24 - Таблицы базы данных созданы/проверены
2025-12-30 11:43:18,876 - uvicorn.error - INFO - server:76 - Started server process [33480]
2025-12-30 11:43:18,877 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-30 11:43:18,878 - quest_service.main - INFO - main:100 - Quest Service запущен
2025-12-30 11:43:18,879 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-30 11:43:18,886 - uvicorn.error - INFO - server:76 - Started server process [8416]
2025-12-30 11:43:18,887 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-30 11:43:18,887 - auth_service.main - INFO - main:48 - Auth Service запущен
2025-12-30 11:43:18,889 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-30 11:43:26,194 - shared.database - INFO - database:24 - Подключение к базе данных PostgreSQL: localhost:5432/quest_board
2025-12-30 11:43:26,876 - sqlalchemy.engine.Engine - INFO - base:1901 - select pg_catalog.version()
2025-12-30 11:43:26,877 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 11:43:26,881 - sqlalchemy.engine.Engine - INFO - base:1901 - select current_schema()
2025-12-30 11:43:26,881 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 11:43:26,884 - sqlalchemy.engine.Engine - INFO - base:1901 - show standard_conforming_strings
2025-12-30 11:43:26,885 - sqlalchemy.engine.Engine - INFO - base:1906 - [raw sql] {}
2025-12-30 11:43:26,888 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 11:43:26,889 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT version()
2025-12-30 11:43:26,891 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00214s] {}
2025-12-30 11:43:26,892 - shared.database - INFO - database:51 -  PostgreSQL подключен: PostgreSQL 17.5 on x86_64-windows
2025-12-30 11:43:26,894 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 11:43:26,898 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 11:43:26,899 - sqlalchemy.engine.Engine - INFO - base:1901 - 
                    SELECT 
                        current_database() as db_name,
                        current_user as db_user,
                        inet_server_addr() as db_host,
                        inet_server_port() as db_port
                
2025-12-30 11:43:26,899 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00204s] {}
2025-12-30 11:43:26,901 - shared.database - INFO - database:161 -  Подключение к базе данных успешно:
2025-12-30 11:43:26,902 - shared.database - INFO - database:162 -    База данных: quest_board
2025-12-30 11:43:26,903 - shared.database - INFO - database:163 -    Пользователь: postgres
2025-12-30 11:43:26,904 - shared.database - INFO - database:164 -    Хост: ::1
2025-12-30 11:43:26,904 - shared.database - INFO - database:165 -    Порт: 5432
2025-12-30 11:43:26,906 - sqlalchemy.engine.Engine - INFO - base:1117 - ROLLBACK
2025-12-30 11:43:27,167 - shared.security - INFO - security:28 - Инициализация модуля безопасности (JWT алгоритм: HS256)
2025-12-30 11:43:27,169 - sqlalchemy.engine.Engine - INFO - base:1091 - BEGIN (implicit)
2025-12-30 11:43:27,173 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 11:43:27,174 - sqlalchemy.engine.Engine - INFO - base:1906 - [generated in 0.00065s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 11:43:27,180 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 11:43:27,181 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.007705s ago] {'table_name': 'tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 11:43:27,183 - sqlalchemy.engine.Engine - INFO - base:1901 - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 11:43:27,183 - sqlalchemy.engine.Engine - INFO - base:1906 - [cached since 0.01021s ago] {'table_name': 'chat_messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 11:43:27,186 - sqlalchemy.engine.Engine - INFO - base:1134 - COMMIT
2025-12-30 11:43:27,186 - root - INFO - main:23 - Таблицы базы данных созданы/проверены
2025-12-30 11:43:27,193 - uvicorn.error - INFO - server:76 - Started server process [37884]
2025-12-30 11:43:27,194 - uvicorn.error - INFO - on:46 - Waiting for application startup.
2025-12-30 11:43:27,195 - chat_service.main - INFO - main:114 - Chat Service запущен
2025-12-30 11:43:27,195 - uvicorn.error - INFO - on:60 - Application startup complete.
2025-12-30 11:53:42,613 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-30 11:53:42,609 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-30 11:53:42,645 - uvicorn.error - INFO - server:264 - Shutting down
2025-12-30 11:53:42,746 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-30 11:53:42,757 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-30 11:53:42,759 - uvicorn.error - INFO - server:86 - Finished server process [8416]
2025-12-30 11:53:42,765 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-30 11:53:42,776 - uvicorn.error - INFO - on:65 - Waiting for application shutdown.
2025-12-30 11:53:42,789 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-30 11:53:42,791 - uvicorn.error - INFO - on:76 - Application shutdown complete.
2025-12-30 11:53:42,792 - uvicorn.error - INFO - server:86 - Finished server process [33480]
2025-12-30 11:53:42,796 - uvicorn.error - INFO - server:86 - Finished server process [37884]
